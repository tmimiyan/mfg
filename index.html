<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bedrock Manifest Generator</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#121212">
  <link rel="apple-touch-icon" href="./icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- CodeMirror (CDN / online-only) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>

  <style>
    :root{
      --bg:#121212;
      --card:#1b1b1b;
      --border:#2c2c2c;
      --text:#e8e8e8;
      --muted:#a6a6a6;
      --input:#202020;
      --inputBorder:#333;

      --accent1:#7c3aed;
      --accent2:#06b6d4;
      --accent3:#22c55e;
    }

    body{
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      max-width: 1100px;
      margin: 24px auto;
      padding: 0 16px;
      background: var(--bg);
      color: var(--text);
    }

    h1{ font-size:20px; margin:0 0 14px; }

    .grid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    .card{
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
      background: var(--card);
      box-shadow: 0 8px 24px rgba(0,0,0,.25);
    }

    label{ display:block; font-size:12px; margin:10px 0 6px; color: var(--text); }

    input, select, textarea{
      width:100%;
      padding:10px;
      border:1px solid var(--inputBorder);
      border-radius:10px;
      font-size:14px;
      background: var(--input);
      color: var(--text);
      outline:none;
    }
    input:disabled, select:disabled{ opacity:.6; }

    .buttons{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .row{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    .hint{ font-size:12px; color: var(--muted); margin-top:8px; line-height:1.55; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size:12px; }
    .checkline{ display:flex; align-items:center; gap:8px; margin-top:10px; }
    .checkline input{ width:auto; }
    .disabled{ opacity:.55; }

    /* App-like buttons */
    button{
      padding: 10px 14px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor: pointer;
      transition: transform .06s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease, filter .18s ease;
      box-shadow: 0 10px 24px rgba(0,0,0,.22);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    button:hover{
      border-color: rgba(255,255,255,.22);
      background: rgba(255,255,255,.09);
      box-shadow: 0 14px 32px rgba(0,0,0,.28);
      transform: translateY(-1px);
    }
    button:active{
      transform: translateY(0px) scale(.99);
      filter: brightness(.98);
    }
    button.primary{
      border:none;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      box-shadow: 0 14px 34px rgba(124,58,237,.22), 0 14px 34px rgba(6,182,212,.12);
    }
    button.primary:hover{
      filter: brightness(1.06);
      box-shadow: 0 18px 44px rgba(124,58,237,.26), 0 18px 44px rgba(6,182,212,.16);
    }
    button.ghost{
      background: transparent;
      box-shadow: none;
    }
    button:disabled{
      opacity:.5;
      cursor:not-allowed;
      transform:none;
      box-shadow:none;
    }

    /* CodeMirror */
    .CodeMirror{
      height: 260px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #0f0f0f;
      font-size: 13px;
    }
    .CodeMirror-gutters{
      background:#0f0f0f;
      border-right: 1px solid var(--border);
    }

    /* Toast */
    .toast{
      width: min(420px, calc(100vw - 32px));
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px 12px;
      background: rgba(20,20,20,.92);
      color: var(--text);
      box-shadow: 0 18px 48px rgba(0,0,0,.40);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      display: grid;
      grid-template-columns: 22px 1fr auto;
      gap: 10px;
      align-items: start;
      transform: translateY(10px);
      opacity: 0;
      transition: transform .18s ease, opacity .18s ease;
    }
    .toast.show{ transform: translateY(0); opacity: 1; }
    .toast .dot{
      width: 12px; height: 12px; border-radius: 999px;
      margin-top: 4px;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      box-shadow: 0 0 0 4px rgba(124,58,237,.14);
    }
    .toast.success .dot{
      background: linear-gradient(135deg, var(--accent3), #16a34a);
      box-shadow: 0 0 0 4px rgba(34,197,94,.14);
    }
    .toast.error .dot{
      background: linear-gradient(135deg, #ef4444, #f97316);
      box-shadow: 0 0 0 4px rgba(239,68,68,.14);
    }
    .toast .title{ font-size: 13px; font-weight: 700; }
    .toast .msg{ font-size: 12px; color: var(--muted); margin-top: 2px; line-height: 1.4; }
    .toast .x{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--text);
      border-radius: 12px;
      padding: 6px 10px;
      cursor: pointer;
      box-shadow: none;
    }
    .toast .x:hover{ background: rgba(255,255,255,.10); }

    @media (max-width: 900px){ .grid{ grid-template-columns: 1fr; } }
  </style>
</head>

<body>
  <h1>Bedrock Add-on manifest.json 生成（BP+RP / 1.20・1.21 / Script ON/OFF / PWA）</h1>

  <div class="grid">
    <!-- Settings -->
    <div class="card">
      <label>対象バージョン系</label>
      <select id="series">
        <option value="1.21">1.21系</option>
        <option value="1.20">1.20系</option>
      </select>

      <div class="row">
        <div>
          <label>アドオン名（共通）</label>
          <input id="addonName" value="My Addon" />
        </div>
        <div>
          <label>共通バージョン（BP/RP header.version）</label>
          <input id="packVersion" value="1.0.0" placeholder="例: 1.0.0" />
        </div>
      </div>

      <label>説明（共通）</label>
      <input id="addonDesc" value="Generated by manifest tool" />

      <div class="row">
        <div>
          <label>min_engine_version（BP/RP 共通）</label>
          <input id="minEngine" value="1.21.0" placeholder="例: 1.20.0 / 1.21.0" />
        </div>
        <div></div>
      </div>

      <div class="row">
        <div>
          <label>BP header.uuid</label>
          <input id="bpHeaderUuid" class="mono" />
        </div>
        <div>
          <label>RP header.uuid</label>
          <input id="rpHeaderUuid" class="mono" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>BP module.uuid（data）</label>
          <input id="bpDataModuleUuid" class="mono" />
        </div>
        <div>
          <label>RP module.uuid（resources）</label>
          <input id="rpModuleUuid" class="mono" />
        </div>
      </div>

      <div class="checkline">
        <input id="useScriptApi" type="checkbox" checked />
        <label for="useScriptApi" style="margin:0;">Script API を使う（ON/OFF）</label>
      </div>

      <div id="scriptSection" class="card" style="margin-top:12px;">
        <div class="row">
          <div>
            <label>@minecraft/server の依存バージョン</label>
            <select id="serverApiVersion"></select>
          </div>
          <div>
            <label>Script entry（BP）</label>
            <input id="scriptEntry" value="scripts/main.js" placeholder="例: scripts/main.js" />
          </div>
        </div>

        <div class="row">
          <div>
            <label>BP module.uuid（script）</label>
            <input id="bpScriptModuleUuid" class="mono" />
          </div>
          <div></div>
        </div>

        <div class="checkline">
          <input id="useServerUi" type="checkbox" />
          <label for="useServerUi" style="margin:0;">@minecraft/server-ui を追加（UIを使う場合）</label>
        </div>

        <div class="checkline">
          <input id="enableScriptEval" type="checkbox" />
          <label for="enableScriptEval" style="margin:0;">capabilities: ["script_eval"]（eval/Functionを使う場合）</label>
        </div>

        <div class="hint">Script をOFFにすると、このブロックは無効化されます。</div>
      </div>

      <div class="checkline">
        <input id="mutualDeps" type="checkbox" checked />
        <label for="mutualDeps" style="margin:0;">BP↔RP の dependencies を相互に付ける</label>
      </div>

      <div class="buttons">
        <button class="primary" id="generate">生成</button>
        <button class="ghost" id="installBtn" style="display:none;">インストール</button>
        <button class="ghost" id="regenUuids">UUID全部再生成</button>
        <button class="ghost" id="fillSample">サンプル</button>
        <button class="ghost" id="reset">リセット</button>
      </div>

      <div class="hint">
        CodeMirrorはCDN読み込みのため<strong>オンライン必須</strong>です（オフラインではエディタ表示できません）。
      </div>
    </div>

    <!-- Outputs -->
    <div class="card">
      <label>BP/manifest.json</label>
      <textarea id="outBp" spellcheck="false"></textarea>
      <div class="buttons">
        <button class="ghost" id="copyBp">BPをコピー</button>
        <button class="ghost" id="dlBp">BP manifest.json をDL</button>
      </div>

      <label style="margin-top:14px;">RP/manifest.json</label>
      <textarea id="outRp" spellcheck="false"></textarea>
      <div class="buttons">
        <button class="ghost" id="copyRp">RPをコピー</button>
        <button class="ghost" id="dlRp">RP manifest.json をDL</button>
      </div>
    </div>
  </div>

  <!-- Toast host -->
  <div id="toastHost" style="
    position: fixed;
    right: 16px;
    bottom: 16px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 9999;
  "></div>

  <script>
    // ===== Service Worker register (PWA) =====
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./service-worker.js").catch(() => {});
      });
    }

    // ===== Helpers =====
    function el(id){ return document.getElementById(id); }

    function uuidv4(){
      if (crypto && crypto.randomUUID) return crypto.randomUUID();
      const bytes = new Uint8Array(16);
      crypto.getRandomValues(bytes);
      bytes[6] = (bytes[6] & 0x0f) | 0x40;
      bytes[8] = (bytes[8] & 0x3f) | 0x80;
      const hex = [...bytes].map(b => b.toString(16).padStart(2, "0")).join("");
      return `${hex.slice(0,8)}-${hex.slice(8,12)}-${hex.slice(12,16)}-${hex.slice(16,20)}-${hex.slice(20)}`;
    }

    function parseVersion(v){
      const parts = String(v || "1.0.0").split(".").map(x => parseInt(x, 10));
      return [parts[0] || 1, parts[1] || 0, parts[2] || 0];
    }

    async function copyText(text){
      try { await navigator.clipboard.writeText(text); }
      catch {
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
      }
    }

    function downloadText(filename, text){
      const blob = new Blob([text], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    }

    // ===== Toast =====
    function toast(title, msg = "", type = "info", ms = 2200){
      const host = el("toastHost");
      const t = document.createElement("div");
      t.className = `toast ${type}`;
      t.innerHTML = `
        <div class="dot"></div>
        <div>
          <div class="title">${title}</div>
          <div class="msg">${msg}</div>
        </div>
        <button class="x" aria-label="close">×</button>
      `;
      host.appendChild(t);

      const close = () => {
        t.classList.remove("show");
        setTimeout(() => t.remove(), 200);
      };
      t.querySelector(".x").addEventListener("click", close);
      requestAnimationFrame(() => t.classList.add("show"));
      setTimeout(close, ms);
    }

    // ===== Script API version candidates (curated list) =====
    const SERVER_API_CANDIDATES = {
      "1.20": [
        { label: "1.10.0 (対応: 1.20.80)", value: "1.10.0" },
        { label: "1.9.0  (対応: 1.20.70)", value: "1.9.0" },
        { label: "1.8.0  (対応: 1.20.60)", value: "1.8.0" },
        { label: "1.7.0  (対応: 1.20.50)", value: "1.7.0" },
        { label: "1.6.0  (対応: 1.20.40)", value: "1.6.0" },
        { label: "1.5.0  (対応: 1.20.30)", value: "1.5.0" },
        { label: "1.4.0  (対応: 1.20.20)", value: "1.4.0" },
        { label: "1.3.0  (対応: 1.20.10)", value: "1.3.0" },
        { label: "1.2.0  (対応: 1.20.0)",  value: "1.2.0" }
      ],
      "1.21": [
        { label: "1.17.0 (対応: 1.21.60)", value: "1.17.0" },
        { label: "1.16.0 (対応: 1.21.50)", value: "1.16.0" },
        { label: "1.15.0 (対応: 1.21.40)", value: "1.15.0" },
        { label: "1.14.0 (対応: 1.21.30)", value: "1.14.0" },
        { label: "1.13.0 (対応: 1.21.20)", value: "1.13.0" },
        { label: "1.11.0 (対応: 1.21.0)",  value: "1.11.0" }
      ]
    };

    function populateServerApiOptions(series){
      const sel = el("serverApiVersion");
      sel.innerHTML = "";
      const list = SERVER_API_CANDIDATES[series] || [];
      for (const opt of list) {
        const o = document.createElement("option");
        o.value = opt.value;
        o.textContent = opt.label;
        sel.appendChild(o);
      }
      if (list.length > 0) sel.value = list[0].value;
    }

    function setScriptUiEnabled(enabled){
      const section = el("scriptSection");
      section.classList.toggle("disabled", !enabled);
      ["serverApiVersion","scriptEntry","bpScriptModuleUuid","useServerUi","enableScriptEval"]
        .forEach(id => { el(id).disabled = !enabled; });
    }

    // ===== CodeMirror init (online-only) =====
    const cmOptions = {
      mode: { name: "javascript", json: true },
      theme: "material-darker",
      lineNumbers: true,
      tabSize: 2,
      indentUnit: 2,
      lineWrapping: true,
      readOnly: true,
      viewportMargin: Infinity
    };

    // CDNが落ちていると CodeMirror が無い可能性がある
    // -> その時は textarea のままにしてトーストで通知
    let bpEditor = null;
    let rpEditor = null;

    function setBpText(t){
      if (bpEditor) { bpEditor.setValue(t); bpEditor.refresh(); }
      else { el("outBp").value = t; }
    }
    function setRpText(t){
      if (rpEditor) { rpEditor.setValue(t); rpEditor.refresh(); }
      else { el("outRp").value = t; }
    }
    function getBpText(){ return bpEditor ? bpEditor.getValue() : el("outBp").value; }
    function getRpText(){ return rpEditor ? rpEditor.getValue() : el("outRp").value; }

    function initEditors(){
      if (typeof window.CodeMirror !== "function") {
        toast("注意", "CodeMirrorを読み込めませんでした（オンライン必須）", "error", 4200);
        return;
      }
      bpEditor = CodeMirror.fromTextArea(el("outBp"), cmOptions);
      rpEditor = CodeMirror.fromTextArea(el("outRp"), cmOptions);
    }

    // ===== Manifest builders =====
    function buildBpManifest(s){
      const modules = [
        { type:"data", uuid:s.bpDataModuleUuid, version: parseVersion(s.packVersion) }
      ];

      const bp = {
        format_version: 2,
        header: {
          name: s.bpName,
          description: s.desc,
          uuid: s.bpHeaderUuid,
          version: parseVersion(s.packVersion),
          min_engine_version: parseVersion(s.minEngine)
        },
        modules
      };

      const deps = [];

      if (s.useScriptApi) {
        modules.push({
          type: "script",
          uuid: s.bpScriptModuleUuid,
          version: parseVersion(s.packVersion),
          language: "javascript",
          entry: s.scriptEntry
        });

        deps.push({ module_name: "@minecraft/server", version: s.serverApiVersion });
        if (s.useServerUi) deps.push({ module_name: "@minecraft/server-ui", version: s.serverApiVersion });
        if (s.enableScriptEval) bp.capabilities = ["script_eval"];
      }

      if (s.mutualDeps) deps.push({ uuid: s.rpHeaderUuid, version: parseVersion(s.packVersion) });
      if (deps.length > 0) bp.dependencies = deps;

      return bp;
    }

    function buildRpManifest(s){
      const rp = {
        format_version: 2,
        header: {
          name: s.rpName,
          description: s.desc,
          uuid: s.rpHeaderUuid,
          version: parseVersion(s.packVersion),
          min_engine_version: parseVersion(s.minEngine)
        },
        modules: [
          { type:"resources", uuid:s.rpModuleUuid, version: parseVersion(s.packVersion) }
        ]
      };

      if (s.mutualDeps) {
        rp.dependencies = [{ uuid: s.bpHeaderUuid, version: parseVersion(s.packVersion) }];
      }

      return rp;
    }

    function gatherState(){
      const series = el("series").value;
      return {
        series,
        desc: el("addonDesc").value.trim() || "",
        packVersion: el("packVersion").value.trim() || "1.0.0",
        minEngine: el("minEngine").value.trim() || (series === "1.21" ? "1.21.0" : "1.20.0"),
        mutualDeps: el("mutualDeps").checked,

        useScriptApi: el("useScriptApi").checked,
        serverApiVersion: el("serverApiVersion").value,
        scriptEntry: el("scriptEntry").value.trim() || "scripts/main.js",
        useServerUi: el("useServerUi").checked,
        enableScriptEval: el("enableScriptEval").checked,

        bpHeaderUuid: el("bpHeaderUuid").value.trim(),
        rpHeaderUuid: el("rpHeaderUuid").value.trim(),
        bpDataModuleUuid: el("bpDataModuleUuid").value.trim(),
        bpScriptModuleUuid: el("bpScriptModuleUuid").value.trim(),
        rpModuleUuid: el("rpModuleUuid").value.trim(),

        bpName: (el("addonName").value.trim() || "My Addon") + " (BP)",
        rpName: (el("addonName").value.trim() || "My Addon") + " (RP)"
      };
    }

    function generate(){
      const s = gatherState();
      const bp = buildBpManifest(s);
      const rp = buildRpManifest(s);
      setBpText(JSON.stringify(bp, null, 2));
      setRpText(JSON.stringify(rp, null, 2));
    }

    function regenUuids(){
      el("bpHeaderUuid").value = uuidv4();
      el("rpHeaderUuid").value = uuidv4();
      el("bpDataModuleUuid").value = uuidv4();
      el("bpScriptModuleUuid").value = uuidv4();
      el("rpModuleUuid").value = uuidv4();
    }

    // ===== PWA install button =====
    let deferredInstallPrompt = null;

    function isIOS(){
      const ua = navigator.userAgent || "";
      return /iPad|iPhone|iPod/.test(ua) && !window.MSStream;
    }
    function isInStandaloneMode(){
      return (window.matchMedia && window.matchMedia("(display-mode: standalone)").matches) ||
             (navigator.standalone === true);
    }
    function showInstallButton(show){
      const btn = el("installBtn");
      if (!btn) return;
      btn.style.display = show ? "" : "none";
    }

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredInstallPrompt = e;
      showInstallButton(true);
      toast("インストールできます", "「インストール」ボタンから追加できます", "info", 2600);
    });

    window.addEventListener("appinstalled", () => {
      deferredInstallPrompt = null;
      showInstallButton(false);
      toast("インストール完了", "アプリとして追加されました", "success", 2600);
    });

    el("installBtn").addEventListener("click", async () => {
      if (isIOS()) {
        toast("iPhone/iPadの場合", "共有 →「ホーム画面に追加」でアプリ化できます", "info", 4200);
        return;
      }
      if (!deferredInstallPrompt) {
        toast("インストール不可", "この環境では条件未達の可能性があります", "error", 3200);
        return;
      }
      deferredInstallPrompt.prompt();
      const choice = await deferredInstallPrompt.userChoice;
      if (choice.outcome === "accepted") toast("インストール開始", "端末に追加しています…", "success", 2200);
      else toast("キャンセル", "インストールはキャンセルされました", "info", 2200);
      deferredInstallPrompt = null;
      showInstallButton(false);
    });

    // ===== UI events =====
    el("series").addEventListener("change", () => {
      const series = el("series").value;
      populateServerApiOptions(series);
      el("minEngine").value = (series === "1.21" ? "1.21.0" : "1.20.0");
      generate();
    });

    el("useScriptApi").addEventListener("change", () => {
      setScriptUiEnabled(el("useScriptApi").checked);
      generate();
    });

    el("generate").addEventListener("click", () => {
      generate();
      toast("生成しました", "BP/RP の manifest.json を更新しました", "success", 2400);
    });

    el("regenUuids").addEventListener("click", () => {
      regenUuids();
      generate();
      toast("UUID更新", "UUIDを再生成しました", "info", 2200);
    });

    el("fillSample").addEventListener("click", () => {
      el("addonName").value = "Example Addon";
      el("addonDesc").value = "BP+RP + (optional) Script API sample";
      el("packVersion").value = "1.0.0";
      el("series").value = "1.21";
      populateServerApiOptions("1.21");
      el("minEngine").value = "1.21.0";
      el("mutualDeps").checked = true;

      el("useScriptApi").checked = true;
      setScriptUiEnabled(true);
      el("scriptEntry").value = "scripts/main.js";
      el("useServerUi").checked = false;
      el("enableScriptEval").checked = false;

      regenUuids();
      generate();
      toast("サンプル適用", "入力とUUIDをセットしました", "success", 2400);
    });

    el("reset").addEventListener("click", () => {
      el("series").value = "1.21";
      populateServerApiOptions("1.21");
      el("addonName").value = "My Addon";
      el("addonDesc").value = "Generated by manifest tool";
      el("packVersion").value = "1.0.0";
      el("minEngine").value = "1.21.0";
      el("mutualDeps").checked = true;

      el("useScriptApi").checked = true;
      setScriptUiEnabled(true);
      el("scriptEntry").value = "scripts/main.js";
      el("useServerUi").checked = false;
      el("enableScriptEval").checked = false;

      regenUuids();
      generate();
      toast("リセット", "初期状態に戻しました", "info", 2200);
    });

    el("copyBp").addEventListener("click", async () => {
      await copyText(getBpText());
      toast("コピー完了", "BP manifest.json をコピーしました", "success", 2200);
    });

    el("copyRp").addEventListener("click", async () => {
      await copyText(getRpText());
      toast("コピー完了", "RP manifest.json をコピーしました", "success", 2200);
    });

    el("dlBp").addEventListener("click", () => {
      downloadText("manifest.bp.json", getBpText());
      toast("ダウンロード開始", "manifest.bp.json を保存します", "info", 2200);
    });

    el("dlRp").addEventListener("click", () => {
      downloadText("manifest.rp.json", getRpText());
      toast("ダウンロード開始", "manifest.rp.json を保存します", "info", 2200);
    });

    // ===== Init =====
    window.addEventListener("load", () => {
      populateServerApiOptions("1.21");
      regenUuids();
      setScriptUiEnabled(true);

      // エディタ初期化（CDN依存）
      initEditors();

      generate();

      if (isInStandaloneMode()) showInstallButton(false);
      else if (isIOS()) {
        setTimeout(() => {
          toast("ヒント", "iPhone/iPadは 共有→「ホーム画面に追加」でアプリ化できます", "info", 4500);
        }, 1200);
      }
    });
  </script>
</body>
</html>
